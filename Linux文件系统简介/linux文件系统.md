# linux 文件系统概览
## Linux 文件系统简介
再Linux 操作系统中，所有被操作系统管理的资源，例如网络接口卡，磁盘驱动器，打印机，输入输出设备，普通文件或是目录都被看作是一个文件。  
也就是说Linux 系统中有一个重要的概念：一切都是文件。

## 文件类型与目录结构
Linux 支持5种文件类型 ：

Linux 的目录结构如下：

常见目录说明：
/bin:存放二进制可执行文件（ls,cat,mkdir）等，常用命令一般都在这里
/etc:存放系统管理和配置文件  
/home:存放所有用户的根目录，是用户主目录的基点，比如用户user的主目录就是 /home/user,可以用~user表示。
/usr:用于存放系统应用程序。  
/opt:额外安装的可选应用程序包放置的位置。一般情况下，我们可以把tomcat等都安装再这里
/proc:虚拟文件系统目录，是系统内存的映射。可直接访问这个目录来获取系统信息。  
/root：超级用户（系统管理员）的主目录  
/sbin：存放二进制可执行文件，只有root才能访问。这里存放的是系统管理员使用的系统级别的管理命令和程序。如ifconfig等。  
/dev:用于存放设备文件  
/mnt:系统管理员安装临时文件系统的安装点，系统提供这个目录是让用户临时挂载其他的文件系统。  
/boot:存放用于系统引导时使用的各种文件，  
/lib:存放着和系统运行相关的库文件，  
/tmp:用于存放各种临时文件，是公用的临时文件存储点，  
/var:用于存放运行时需要改变数据的文件，也是某些大文件的溢出区，比方说各种服务的日志文件（系统启动日志等）。  
/lost+found:这个目录是空的，系统非正常关机而留下无家可归的文件就在这里。  

## Linux 基本命令  
 linux 命令大全：http://man.linuxde.net/
 
### 目录切换命令
cd usr            :切换到该目录下的usr目录
cd..(或者 cd ../) :切换到上一层目录
cd /              :切换到系统根目录
cd ~              :切换到用户主目录
cd -              :切换到上一个操作所在的目录

### 目录的操作命令
mkdir 目录名称    ：增加目录
ls或ll            ：ll 是ls -l的别名，ll命令可以看到该目录下的所有目录和文件的详细信息 查看目录信息
find 目录 参数    ：查找目录
    示例：
        列出当前目录及子目录下的所有文件和文件夹：find .
        在 /home 目录下查找以 .txt 结尾的文件名 ：find /home -name "*.txt"
        同上，但是忽略大小写                    ：find /home -iname "*.txt"
        当前目录及子目录下查找所有以.txt 和 .pdf 结尾的文件： find . \(-name "*.txt" -o -name "*.pad""\)
        或者 find . -name "*.txt" -o -name "*.pdf"

mv 目录名称 新目录名称 ： 修改目录的名称 （注意：mv的语法不仅可以对目录进行重命名而且也可以对各种文件，压缩包等进行
重命名操作。mv命令用来对文件或者目录重新命名，或者将文件从一个目录移到另一个目录中。）  
mv 目录名称 目录的新位置：移动  目录的位置-- 剪切 (注意：mv语法不仅可目录进行剪切操作，对文件和压缩包等都可执行剪切操作。)  另外mv 与cp 的结果不同，mv好像
文件搬家，文件个数并未增加。而cp 对文件进行复制，文件个数增加了。  

cp -r 目录名称 目录拷贝的目标位置：拷贝目录，-r 代表递归拷贝（注意：cp命令 不仅可以拷贝 目录还可以拷贝文件，压缩包等 拷贝压缩包时不用写 -r 递归）

rm [-rf] 目录 ：删除目录 （注意：rm 不仅可以删除目录，也可以删除其他文件或者压缩包，无论删除任何目录和文件，都直接使用rm -rf 目录/文件/压缩包）  

### 文件操作的命令
1 touch 文件名称                ：文件的创建
2 cat/more/less/tail 文件名称   ：文件的查看  
    cat    ：查看显示文件内容
    more   ：可以显示百分比，回车可以向下一行，空格可以向下一页 q 可以退出查看  
    less   ：可以使用键盘上的PgUp和PgDn向上和向下翻页，q 结束查看  
    tail-10：查看文件的后10行，Ctrl+C结束。  
    （注意：tail -f 命令 可以对某个文件进行动态监控，例如tomcat 的日志文件，会随着程序的运行，日志会变化，可以使用tail -f catalina-2016-11-11.log 监控文件的变化）
3 vim 文件：修改文件的内容
vim 编辑器时Linux 中的强大组件，是vi编辑器的加强版，vim 编辑器 的命令和快捷方式很多。  

### 压缩文件的操作命令
1 打包并压缩文件：
    linux 中的打包文件一般是以.tar 结尾的，压缩命令一般是以.gz结尾的。  
    而一般情况下打包和压缩是一起进行的，打包并压缩后的文件的后缀名一般以 .tar.gz。 命令： tar -zcvf 打包压缩后的文件名 要打包压缩的文件。其中：
    z:  调用gzip压缩命令进行压缩  
    c:  打包文件  
    v:  显示运行过程  
    f:  指定文件名  
 
2 解压压缩包：
    命令：tar [-xvf] 压缩文件  
    其中： x :代表解压
    示例：  
    1 将test 下的test.tar.gz解压到当前目录下可以使用命令：tar -xvf test.tar.gz
    2 将test 下的test.tar.gz解压到根目录下/usr下：tar -xvf xxx.tar.gz -C /usr （-C 代表指定解压的位置）  
    
### Linux 的权限命令  
操作系统中每个文件都拥有特定的权限、所属用户和所属组，权限是操作系统用来限制资源访问的机制，在Linux 中权限一般分为读、写和执行，分为三组。分别对应文件的属主（owner）
,属组（group）、和其他用户（other）、通过这样的机制来限制哪些用户、哪些组可以对特定的文件进行什么样的操作，通过ls -l 命令我们可以查看某个目录下的文件或者目录权限。  


文件的类型
d: 代表目录
-：代表文件
l: 代表软链接  

Linux 中权限分为以下几种：
r:  代表权限可读，r也可以用数字4表示  
w:  代表权限可写，w也可以用数字2表示
x:  代表权限是可执行，x也可以用数字1表示  

文件和目录权限的区别：  
对于文件和目录而言，读写执行表示不同的意义。  
对于文件：
权限名称    可执行操作
r           可以使用cat查看文件的内容
w           可以修改文件的内容  
x           可以将其运行为二进制文件  

对于目录：  
权限名称    可执行操作
r           可以查看目录下列表
w           可以创建和删除目录下文件  
x           可以使用cd进入目录  

需要注意的是超级用户无视普通用户的权限，即使文件目录权限是000，依旧可以访问。在Linux 中的每个用户必须属于一个组，不能
独立于组外，在Linux 中每个文件有所有者、所在组、其他组的概念。  
所有者：  
一般文件的创建者，谁创建了这个文件，就天然的成为该文件的所有者，用ls -ahl 命令可以查看到文件的所有者，也可以使用chown
用户名 文件名 来修改文件的所有者。   
文件所在组：  
当某个用户创建了一个文件后，这个文件的所在组就是该用户所在的组，用ls -ahl命令可以看到文件的所在组，也可以使用chgrp 组名
文件名修改文件所在的组  
其他组
除开文件的所有者和所在组的用户外，系统的其他用户都是文件的其他组。  

修改文件/目录的权限命令： chmod
示例：修改 /test 下的aaa.text 的权限 为所属主有全部权限，属主所在的组有读写权限，其他用户只有读的权限
chmod u=rwx,g=rw,o=r aaa.txt  
上述示例还可以使用数字表示：
chmod 764 aaa.txt  

补充：
假如我们创建了一个zookeeper ，我们每次开机到要求其自动启动该怎么办哪？
1 创建一个脚本 zookeeper
2 为新创建的脚本zookeeper 添加可执行权限，命令是： chmod +x zookeeper  
3 把zookeeper这个脚本添加到开机启动项里面，命令式：chkconfig --add zookeeper
4 如果想查看添加是否成功：命令： chkconfig --list  

### linux 用户管理
Linux 系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后
以这个账号的身份进入系统。  

linux 用户管理相关命令：
 useradd 选项 用户名：添加用户账号
 userdel 选项 用户名：删除用户账号  
 usermd  选项 用户名：修改账号  
 passwd  用户名  ：更改或创建用户的密码  
 passwd  -S 用户名：显示用户账号密码的信息  
 passwd  -d 用户名：清除用户密码  

useradd 命令用于Linux中创建的新的系统的用户，useradd 可用来建立用户账号。账号创建号好之后，再用password 设定账号的密码
而可用userdel删除账号，使用useradd 指令所建立的账号，实际上是保存在 /etc/passwd 文件文本中。  
passwd 命令用于设置用户的认证信息，包括用户密码、密码过期过期时间等等。系统管理者则能用它管理系统用户的密码。只有管理者
可以指定用户名称，一般用户只能改变自己的密码。  

linux 系统用户组的管理  
每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理，不同Linux 系统对用户组的规定有所不同，如Linux
下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。  
用户组的管理设计用户的添加、删除、修改，组的增加、删除、修改实际上就是对 /etc/group 文件的更新。  

Linux 系统用户组的管理相关命令  
groupadd 选项 用户组：  增加一个新的用户组  
groupdel 用户组： 要删除一个已有的用户组  
groupmod 选项 用户组：修改用户组的属性  

### 其他常用的命令  
pwd: 显示当前所在的位置  

grep 要搜索的字符串 要搜索的文件 --color:搜索命令 --color代表高亮显示。  

ps -ef / ps -aus:这两个命令都是查看当前系统正在运行进程，两者的区别是展示格式不同。如果想要查看特定的进程，可以使用
这样的格式：ps aus|grep redis（查看包括redis字符串的进程），也可以使用 pgrep redis -a;  
注意：如果直接用ps 命令，会先所有进程的状态，通常结合grep命令查看某进程的状态  

kill -9 进程的id：杀死进程（-9 表示强制终止）  
先用ps 查找进程，然后用kill 杀掉   

### 网络通信的命令  
查看当前系统的网卡信息：ifconfig 
查看与某台机器的连接情况： ping
查看当前系统的端口使用： netstat -an  

shutdown : shotdown -h now  :指定现在立即关机，shutdown +5 ”System will shutdown after 5 minutes“:指定5分钟后关机，
同时送出警告给登入用户。  

reboot： reboot重开机  reboot -w:做个重开机的模拟。  
